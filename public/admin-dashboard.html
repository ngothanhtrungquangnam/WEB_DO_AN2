<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang ch·ªß Admin</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* CSS ƒë·ªÉ t·∫°o giao di·ªán "Card" cho c√°c link */
        .admin-dashboard-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
        }
        .admin-dashboard-container h1 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .admin-dashboard-container > p {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 2rem;
        }
        .dashboard-links {
            display: grid;
            /* T·ª± ƒë·ªông chia c·ªôt, m·ªói c·ªôt r·ªông t·ªëi thi·ªÉu 300px */
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .dashboard-card {
            display: block;
            padding: 1.5rem 2rem;
            background-color: #ffffff;
            border: 1px solid #eee;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            text-decoration: none;
            color: inherit;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.08);
        }
        .dashboard-card h2 {
            /* L·∫•y m√†u cam ch√≠nh t·ª´ style.css c·ªßa b·∫°n */
            color: var(--main-color, #f07c56); 
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 0.5rem;
        }
        .dashboard-card p {
            font-size: 0.95rem;
            color: #444;
            line-height: 1.5;
            margin-bottom: 0;
        }
    </style>
</head>
<body>

    <div id="navbar-placeholder"></div>

    <main class="admin-dashboard-container">
        <h1>Ch√†o m·ª´ng Admin!</h1>
        <p>Ch·ªçn m·ªôt ch·ª©c nƒÉng qu·∫£n l√Ω ƒë·ªÉ b·∫Øt ƒë·∫ßu:</p>
        
        <div class="dashboard-links">
            
            <a href="/admin.html" class="dashboard-card">
                <h2>üìã Qu·∫£n l√Ω ƒê∆°n h√†ng</h2>
                <p>Xem, c·∫≠p nh·∫≠t tr·∫°ng th√°i v√† x·ª≠ l√Ω c√°c ƒë∆°n h√†ng m·ªõi.</p>
            </a>
            
            <a href="/quan-ly-mon-an.html" class="dashboard-card">
                <h2>üç¥ Qu·∫£n l√Ω M√≥n ƒÉn</h2>
                <p>Th√™m, x√≥a, v√† s·ª≠a c√°c m√≥n ƒÉn trong th·ª±c ƒë∆°n.</p>
            </a>

            </div>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // L·∫•y th√¥ng tin user
            const userInfo = JSON.parse(localStorage.getItem("userInfo"));

            // B·∫£o v·ªá trang: N·∫øu kh√¥ng ph·∫£i admin, ƒë√° v·ªÅ trang ƒëƒÉng nh·∫≠p
            if (!userInfo || userInfo.role !== 'admin') {
                alert('B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p. Vui l√≤ng ƒëƒÉng nh·∫≠p.');
                window.location.href = '/login.html';
                return; // D·ª´ng th·ª±c thi code
            }

            // T·∫£i file navbar c·ªßa Admin
            const navbarFile = '/admin-navbar.html'; 

            fetch(navbarFile)
                .then(response => {
                    if (!response.ok) throw new Error('Kh√¥ng t√¨m th·∫•y file admin-navbar.html');
                    return response.text();
                })
                .then(data => {
                    // 1. G·∫Øn HTML c·ªßa navbar v√†o "ch·ªó gi·ªØ"
                    const placeholder = document.getElementById('navbar-placeholder');
                    if (placeholder) {
                        placeholder.innerHTML = data;
                    }

                    // 2. K√≠ch ho·∫°t n√∫t "ƒêƒÉng xu·∫•t" (R·∫§T QUAN TR·ªåNG)
                    const authButton = document.getElementById('authButton');
                    if (authButton) {
                        authButton.textContent = 'ƒêƒÉng xu·∫•t';
                        authButton.addEventListener('click', () => {
                            // X√≥a th√¥ng tin ƒëƒÉng nh·∫≠p
                            localStorage.removeItem('userInfo');
                            // Quay v·ªÅ trang ch·ªß
                            window.location.href = '/index.html'; 
                        });
                    }
                })
                .catch(err => {
                    console.error('L·ªói t·∫£i navbar:', err);
                    const placeholder = document.getElementById('navbar-placeholder');
                    if (placeholder) {
                        placeholder.innerHTML = '<p style="color:red; text-align:center;">L·ªói t·∫£i menu admin.</p>';
                    }
                });
        });
    </script>
</body>
</html>